
Array.prototype.append=function(b){for(var a in arguments){if(arguments.hasOwnProperty(a)){this[this.length]=arguments[a]}}return this};Array.prototype.prepend=function(c){for(var a in arguments){if(arguments.hasOwnProperty(a)){for(var b=this.length;b>0;--b){this[b]=this[b-1]}this[0]=arguments[a]}}return this};Array.prototype.trimRight=function(a){a=a||1;if(isNaN(a)){throw new TypeError("Parameter 1 ["+a+"] should be a Number")}this.length-=a>this.length?this.length:a;return this};Array.prototype.trimLeft=function(c){c=c||1;if(isNaN(c)){throw new TypeError("Parameter 1 ["+c+"] should be a Number")}for(var b=0,a=this.length-c;b<a;++b){this[b]=this[b+c]}this.trimRight(c);return this};Array.prototype.head=function(c){c=c||1;if(isNaN(c)){throw new TypeError("Parameter 1 ["+c+"] should be a Number")}var b=[];for(var a=0;a<c;++a){if(this[a]!==undefined){b.append(this[a])}}return b};Array.prototype.tail=function(d){d=d||1;if(isNaN(d)){throw new TypeError("Parameter 1 ["+d+"] should be a Number")}var c=[];for(var b=this.length-d,a=this.length;b<a;++b){if(this[b]!==undefined){c.append(this[b])}}return c};Array.prototype.out=function(a){if(a===undefined){a=this.length-1}if(a.isArray()){a=a.values().sort();for(var b=a.length-1;b>=0;--b){this.out(a[b])}}else{if(isNaN(+a)){delete (this[a])}else{this.splice(a,1)}}return this};Array.prototype.merge=function(b){var c=this;for(var d in arguments){if(arguments.hasOwnProperty(d)){var a=arguments[d];if(a.isArray()){a.each(function(f,e){if(isNaN(+e)){c[e]=f}else{c.append(f)}})}else{this.append(a)}}}return this};Array.prototype.indexOf=function(c,a){var b=[];this.each(function(e,d){if(e===c||a&&e==c){b.append(d)}});return b.length?b:false};Array.prototype.keys=function(b){var a=[];this.each(function(d,c){if(!b||b&&!isNaN(+c)){a.append(c)}});return a};Array.prototype.values=function(a){var b=[];this.each(function(d,c){if(!a||a&&!isNaN(+c)){b.append(d)}});return b};Array.prototype.intersect=function(a){if(!a.isArray()){throw new TypeError("Parameter 1 is not an Array")}var c=[];this.each(function(d){if(!a.contains(d)){c.append(d)}});var b=this;c.each(function(d){b.out(b.indexOf(d))});return this};Array.prototype.intersectKeys=function(a){if(!a.isArray()){throw new TypeError("Parameter 1 is not an Array")}var b=[];this.keys().each(function(c){if(!a.containsKey(c)){b.append(c)}});this.out(b);return this};Array.prototype.each=function(b){for(var a in this){if(this.hasOwnProperty(a)){b.call(this,this[a],(isNaN(+a)?a:+a))}}return this};Array.prototype.contains=function(c,a){var b=0;this.each(function(d){if(c instanceof RegExp&&c.test(d)||c===d||!a&&c==d){++b}});return b};Array.prototype.containsKey=function(b){var a=0;this.keys().each(function(c){if(b instanceof RegExp&&b.test(c)||b===c){++a}});return a};Array.prototype.filter=function(b){var a=[];this.each(function(d,c){if((b instanceof RegExp)&&!b.test(d)||(b instanceof Function)&&!b.call(this,d)){a.append(c)}});this.out(a);return this};Array.prototype.filterKeys=function(a){this.out(this.keys().filter(a));return this};Array.prototype.shuffle=function(){var c=this.values(1);for(var b=0,a=c.length;b<a;++b){this[b]=c.splice(Math.random()*c.length<<0,1)[0]}return this};Array.prototype.random=function(){var a=this.values();return a[Math.random()*a.length<<0]};Array.prototype.implode=function(a){a=a||", ";var b="";this.each(function(c){b+=a+c});b=b.substr(a.toString().length);return b};Array.prototype.toString=function(){return"["+this.implode()+"]"};Array.prototype.size=function(){return this.values().length};Array.prototype.equals=function(a){if(a==undefined){throw new TypeError("No parameter given")}if(!a.isArray()||a.size()!=this.size()){return false}var b=this,c=true;a.each(function(e,d){c&=(b[d]!=undefined&&b[d].equals(e))});return(c==true)};if(!Object.prototype.equals){Object.prototype.equals=function(a){return this==a}}Object.prototype.isArray=function(){return this instanceof Array};